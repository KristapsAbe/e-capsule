{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Settings,MoreVertical,Edit2,History,Camera,X,UserMinus}from'lucide-react';import{useNavigate}from'react-router-dom';import Modal from'../components/profileComponents/Modal';import AnimatedCapsule from'../components/profileComponents/AnimatedCapsule';import TimerModal from'../components/profileComponents/TimerModal';import CapsuleDesignSelector from'../components/profileComponents/CapsuleDesignSelector';import ProfileCapsulesGrid from'../components/profileComponents/ProfileCapsuleGrid';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const[user,setUser]=useState(null);const[friends,setFriends]=useState([]);const[errors,setErrors]=useState({});const[friendCount,setFriendCount]=useState(0);const[capsuleCount,setCapsuleCount]=useState(0);const[showSettings,setShowSettings]=useState(false);const[imgSrc,setImgSrc]=useState('/images/DefaultAvatar.jpg');const[showEditModal,setShowEditModal]=useState(false);const[selectedCapsule,setSelectedCapsule]=useState(null);const[showCapsule,setShowCapsule]=useState(false);const[showFriendsModal,setShowFriendsModal]=useState(false);const[capsules,setCapsules]=useState([]);const[showTimerModal,setShowTimerModal]=useState(false);const[selectedLockedCapsule,setSelectedLockedCapsule]=useState(null);const{designs}=CapsuleDesignSelector({value:'',onChange:()=>{}});const[isRemoving,setIsRemoving]=useState(false);const navigate=useNavigate();const settingsRef=useRef(null);const handleEditProfile=()=>setShowEditModal(true);const handleCloseModal=()=>setShowEditModal(false);const handleViewAllFriends=()=>setShowFriendsModal(true);const handleCloseFriendsModal=()=>setShowFriendsModal(false);useEffect(()=>{const token=localStorage.getItem('access_token');console.log('Access Token:',token);if(!token){setErrors(prev=>({...prev,auth:'No access token found'}));navigate('/login');return;}const fetchUserData=async()=>{try{const response=await fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/user',{headers:{'Authorization':`Bearer ${token}`,'Accept':'application/json'}});const data=await response.json();setUser(data);// Add this line to set the user_id in localStorage\nlocalStorage.setItem('user_id',data.id.toString());if(data.profile_image){setImgSrc(`https://istaisprojekts-main-lixsd6.laravel.cloud/storage/${data.profile_image}`);}}catch(err){setErrors(prev=>({...prev,user:'Failed to fetch user data'}));console.error('Fetch error:',err);}};const getDesignById=designId=>{return designs.find(d=>d.id===designId)||designs[0];};const fetchAcceptedFriends=async()=>{try{const response=await fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/friends/accepted',{headers:{'Authorization':`Bearer ${token}`,'Accept':'application/json'}});const data=await response.json();if(Array.isArray(data)){setFriends(data);setFriendCount(data.length);}else{console.error('Received non-array friends data:',data);setFriends([]);setFriendCount(0);}}catch(err){setErrors(prev=>({...prev,friends:'Error fetching friends'}));console.error('Error fetching friends:',err);}};const fetchCounts=async()=>{try{const[friendsRes,capsulesRes]=await Promise.all([fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/friends/count',{headers:{'Authorization':`Bearer ${token}`}}),fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/capsules/count',{headers:{'Authorization':`Bearer ${token}`}})]);const[friendsData,capsulesData]=await Promise.all([friendsRes.json(),capsulesRes.json()]);setFriendCount(friendsData.count);setCapsuleCount(capsulesData.count);}catch(err){setErrors(prev=>({...prev,counts:'Error fetching counts'}));console.error('Error fetching counts:',err);}};const fetchCapsules=async()=>{try{const token=localStorage.getItem('access_token');const currentUserId=parseInt(localStorage.getItem('user_id'));console.log('Debug - Token:',token?'Present':'Missing');console.log('Debug - User ID:',currentUserId);if(!token||isNaN(currentUserId)){console.error('Invalid token or user ID');return;}const response=await fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/capsules',{headers:{'Authorization':`Bearer ${token}`,'Accept':'application/json'}});if(!response.ok){throw new Error('Failed to fetch capsules');}const data=await response.json();console.log('Debug - Raw capsules data:',data.data);console.log('Debug - Current user ID for comparison:',currentUserId);const filteredCapsules=data.data.filter(capsule=>{var _capsule$capsule_user;console.log('Debug - Processing capsule:',{id:capsule.id,is_owner:capsule.is_owner,user_id:capsule.user_id,matches_current_user:capsule.user_id===currentUserId});if(capsule.is_owner){console.log('Debug - Including capsule (is owner):',capsule.id);return true;}const userRelation=(_capsule$capsule_user=capsule.capsule_users)===null||_capsule$capsule_user===void 0?void 0:_capsule$capsule_user.find(user=>parseInt(user.user_id)===currentUserId);console.log('Debug - User relation for capsule',capsule.id,':',userRelation);const shouldInclude=(userRelation===null||userRelation===void 0?void 0:userRelation.status)==='accepted';console.log('Debug - Including capsule (shared):',shouldInclude);return shouldInclude;});console.log('Debug - Filtered capsules:',filteredCapsules);const capsulesWithDaysLeft=filteredCapsules.map(capsule=>{const openingDate=new Date(capsule.time);const now=new Date();const timeDiff=openingDate.getTime()-now.getTime();const daysLeft=Math.ceil(timeDiff/(1000*3600*24));return{...capsule,daysLeft:daysLeft>0?daysLeft:0};});setCapsules(capsulesWithDaysLeft);}catch(err){console.error('Error fetching capsules:',err);setErrors(prev=>({...prev,capsules:'Failed to fetch capsules'}));}};Promise.all([fetchUserData(),fetchAcceptedFriends(),fetchCounts(),fetchCapsules()]).catch(err=>{console.error('Error in fetch operations:',err);});},[navigate]);useEffect(()=>{const handleClickOutside=event=>{if(settingsRef.current&&!settingsRef.current.contains(event.target)){setShowSettings(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);const handlePrivacyChange=async privacy=>{const token=localStorage.getItem('access_token');try{const response=await fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/user/privacy',{method:'PUT',headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},body:JSON.stringify({privacy:privacy.toLowerCase().replace(' ','_')})});const data=await response.json();setUser(prev=>({...prev,privacy:data.privacy}));setShowSettings(false);}catch(err){console.error('Error updating privacy:',err);}};const handleSaveProfile=updatedUser=>{setUser(prevUser=>({...prevUser,name:`${updatedUser.firstName} ${updatedUser.lastName}`.trim(),email:updatedUser.email,bio:updatedUser.bio}));if(updatedUser.image){setImgSrc(URL.createObjectURL(updatedUser.image));}setShowEditModal(false);};const handleCapsuleClick=capsule=>{console.log('Capsule clicked:',capsule);if(capsule.daysLeft>0){setSelectedLockedCapsule(capsule);setShowTimerModal(true);}else{try{// You don't need to parse the images here - let the AnimatedCapsule handle it\nsetSelectedCapsule(capsule);setShowCapsule(true);// The modal will now render <AnimatedCapsule capsule={selectedCapsule} />\n}catch(error){console.error('Error handling capsule click:',error);}}};const handleCloseCapsule=()=>{setSelectedCapsule(null);setShowCapsule(false);};const handleCloseTimerModal=()=>{setShowTimerModal(false);setSelectedLockedCapsule(null);};const handleRemoveFriend=async friendId=>{const token=localStorage.getItem('access_token');setIsRemoving(true);try{const response=await fetch(`https://istaisprojekts-main-lixsd6.laravel.cloud/api/friends/${friendId}`,{method:'DELETE',headers:{'Authorization':`Bearer ${token}`,'Accept':'application/json','Content-Type':'application/json'}});const data=await response.json();if(!response.ok){throw new Error(data.message||'Failed to remove friend');}setFriends(prevFriends=>prevFriends.filter(friend=>friend.id!==friendId));setFriendCount(prevCount=>prevCount-1);}catch(err){console.error('Error removing friend:',err);setErrors(prev=>({...prev,friendRemoval:err.message||'Failed to remove friend'}));}finally{setIsRemoving(false);}};if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-pulse text-2xl text-gray-600\",children:\"Loading...\"})});}return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-background font-lexend text-text\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 py-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-background rounded-2xl shadow-custom p-6 md:p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-center gap-6 md:gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-32 h-32 rounded-full overflow-hidden ring-4 ring-pink-300 shadow-lg\",children:/*#__PURE__*/_jsx(\"img\",{src:imgSrc,alt:\"Profile\",className:\"w-full h-full object-cover\",onError:()=>setImgSrc('/images/DefaultAvatar.jpg')})}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute bottom-0 right-0 bg-pink-500 p-2 rounded-full text-text hover:bg-pink-600 transition-colors\",children:/*#__PURE__*/_jsx(Camera,{size:20})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 text-center md:text-left\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-text\",children:user.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 space-x-6\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"hover:text-secondary transition-colors\",children:[capsuleCount,\" Capsules\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"hover:text-secondary transition-colors\",children:[friendCount,\" Friends\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2\",children:[\"Privacy: \",user.privacy?user.privacy.charAt(0).toUpperCase()+user.privacy.slice(1).replace('_',' '):'Public']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3 justify-center md:justify-end\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleEditProfile,className:\"flex items-center gap-2 px-4 py-2 bg-pink-500 border-2 border-btnOutline rounded-xl hover:text-gray-400 transition-colors\",children:[/*#__PURE__*/_jsx(Edit2,{size:18}),\"Edit Profile\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:settingsRef,children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettings(!showSettings),className:\"p-2\",children:/*#__PURE__*/_jsx(Settings,{size:24,color:\"white\",className:\"text-gray-600\"})}),showSettings&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute right-0 mt-2 w-48 bg-background rounded-lg shadow-lg z-10 py-1\",children:['Private','Public','Friends Only'].map(option=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePrivacyChange(option),className:\"block w-full px-4 py-2 text-sm hover:bg-secondary text-left\",children:option},option))})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 border-t border-secondary pt-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold\",children:[\"Friends (\",friends.length,\")\"]}),friends.length>0&&/*#__PURE__*/_jsx(\"button\",{onClick:handleViewAllFriends,className:\"text-pink-500 hover:text-pink-600 transition-colors\",children:\"View All\"})]}),friends.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-4 overflow-x-auto pb-4\",children:friends.map(friend=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 flex flex-col items-center m-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 rounded-full overflow-hidden ring-2 ring-pink-200\",children:/*#__PURE__*/_jsx(\"img\",{src:friend.profile_image_url||'/images/DefaultAvatar.jpg',alt:friend.name,className:\"w-24 h-24 object-cover\",onError:e=>{e.target.src='/images/DefaultAvatar.jpg';}})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-center text-sm truncate w-24\",children:friend.name})]},friend.id))}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 text-gray-500\",children:\"No friends added yet\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 border-t border-secondary pt-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-6\",children:\"Time Capsules\"}),/*#__PURE__*/_jsx(ProfileCapsulesGrid,{capsules:capsules,onCapsuleClick:handleCapsuleClick})]}),/*#__PURE__*/_jsx(Modal,{show:showEditModal,onClose:handleCloseModal,onSave:handleSaveProfile,initialData:{firstName:user.name.split(' ')[0],lastName:user.name.split(' ')[1]||'',email:user.email,bio:user.bio||''}}),showCapsule&&selectedCapsule&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-[90vh] max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsx(AnimatedCapsule,{capsuleData:selectedCapsule}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-6 left-1/2 -translate-x-1/2 text-center z-10\",children:/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-lexend font-bold text-text mb-2\",children:selectedCapsule.title})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseCapsule,className:\"absolute top-6 right-6 p-2 rounded-full bg-secondary/30 hover:bg-secondary/50 transition-all border border-btnOutline z-10\",children:/*#__PURE__*/_jsx(X,{size:24,className:\"text-text\"})})]})}),showTimerModal&&selectedLockedCapsule&&/*#__PURE__*/_jsx(TimerModal,{daysLeft:selectedLockedCapsule.daysLeft,openingDate:selectedLockedCapsule.time,onClose:handleCloseTimerModal,title:selectedLockedCapsule.title}),showFriendsModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-background rounded-2xl shadow-custom p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"All Friends\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseFriendsModal,className:\"p-2 rounded-full bg-secondary/30 hover:bg-secondary/50 transition-all border border-btnOutline\",children:/*#__PURE__*/_jsx(X,{size:24,className:\"text-text\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\",children:friends.map(friend=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center relative group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 rounded-full overflow-hidden ring-2 ring-pink-200\",children:/*#__PURE__*/_jsx(\"img\",{src:friend.profile_image_url||'/images/DefaultAvatar.jpg',alt:friend.name,className:\"w-full h-full object-cover\",onError:e=>{e.target.src='/images/DefaultAvatar.jpg';}})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-center text-sm truncate w-full\",children:friend.name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveFriend(friend.id),disabled:isRemoving,className:\"absolute -top-2 -right-2 p-1.5 rounded-full bg-red-500 text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 disabled:bg-gray-400\",title:\"Remove Friend\",children:/*#__PURE__*/_jsx(UserMinus,{size:16})})]},friend.id))})]})})]})})});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useRef","Settings","MoreVertical","Edit2","History","Camera","X","UserMinus","useNavigate","Modal","AnimatedCapsule","TimerModal","CapsuleDesignSelector","ProfileCapsulesGrid","jsx","_jsx","jsxs","_jsxs","Profile","user","setUser","friends","setFriends","errors","setErrors","friendCount","setFriendCount","capsuleCount","setCapsuleCount","showSettings","setShowSettings","imgSrc","setImgSrc","showEditModal","setShowEditModal","selectedCapsule","setSelectedCapsule","showCapsule","setShowCapsule","showFriendsModal","setShowFriendsModal","capsules","setCapsules","showTimerModal","setShowTimerModal","selectedLockedCapsule","setSelectedLockedCapsule","designs","value","onChange","isRemoving","setIsRemoving","navigate","settingsRef","handleEditProfile","handleCloseModal","handleViewAllFriends","handleCloseFriendsModal","token","localStorage","getItem","console","log","prev","auth","fetchUserData","response","fetch","headers","data","json","setItem","id","toString","profile_image","err","error","getDesignById","designId","find","d","fetchAcceptedFriends","Array","isArray","length","fetchCounts","friendsRes","capsulesRes","Promise","all","friendsData","capsulesData","count","counts","fetchCapsules","currentUserId","parseInt","isNaN","ok","Error","filteredCapsules","filter","capsule","_capsule$capsule_user","is_owner","user_id","matches_current_user","userRelation","capsule_users","shouldInclude","status","capsulesWithDaysLeft","map","openingDate","Date","time","now","timeDiff","getTime","daysLeft","Math","ceil","catch","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handlePrivacyChange","privacy","method","body","JSON","stringify","toLowerCase","replace","handleSaveProfile","updatedUser","prevUser","name","firstName","lastName","trim","email","bio","image","URL","createObjectURL","handleCapsuleClick","handleCloseCapsule","handleCloseTimerModal","handleRemoveFriend","friendId","message","prevFriends","friend","prevCount","friendRemoval","className","children","src","alt","onError","size","charAt","toUpperCase","slice","onClick","ref","color","option","profile_image_url","e","onCapsuleClick","show","onClose","onSave","initialData","split","capsuleData","title","disabled"],"sources":["/Users/kristaps/Desktop/kvalifikacija/react/src/pages/Profile.jsx"],"sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\nimport {Settings, MoreVertical, Edit2, History, Camera, X, UserMinus} from 'lucide-react';\nimport {useNavigate} from 'react-router-dom';\nimport Modal from '../components/profileComponents/Modal';\nimport AnimatedCapsule from '../components/profileComponents/AnimatedCapsule';\nimport TimerModal from '../components/profileComponents/TimerModal';\nimport CapsuleDesignSelector from '../components/profileComponents/CapsuleDesignSelector';\nimport ProfileCapsulesGrid from '../components/profileComponents/ProfileCapsuleGrid';\n\n\nconst Profile = () => {\n    const [user, setUser] = useState(null);\n    const [friends, setFriends] = useState([]);\n    const [errors, setErrors] = useState({});\n    const [friendCount, setFriendCount] = useState(0);\n    const [capsuleCount, setCapsuleCount] = useState(0);\n    const [showSettings, setShowSettings] = useState(false);\n    const [imgSrc, setImgSrc] = useState('/images/DefaultAvatar.jpg');\n    const [showEditModal, setShowEditModal] = useState(false);\n    const [selectedCapsule, setSelectedCapsule] = useState(null);\n    const [showCapsule, setShowCapsule] = useState(false);\n    const [showFriendsModal, setShowFriendsModal] = useState(false);\n    const [capsules, setCapsules] = useState([]);\n    const [showTimerModal, setShowTimerModal] = useState(false);\n    const [selectedLockedCapsule, setSelectedLockedCapsule] = useState(null);\n    const {designs} = CapsuleDesignSelector({\n        value: '', onChange: () => {\n        }\n    });\n    const [isRemoving, setIsRemoving] = useState(false);\n    const navigate = useNavigate();\n    const settingsRef = useRef(null);\n    const handleEditProfile = () => setShowEditModal(true);\n    const handleCloseModal = () => setShowEditModal(false);\n    const handleViewAllFriends = () => setShowFriendsModal(true);\n    const handleCloseFriendsModal = () => setShowFriendsModal(false);\n\n\n\n    useEffect(() => {\n        const token = localStorage.getItem('access_token');\n        console.log('Access Token:', token);\n\n        if (!token) {\n            setErrors(prev => ({...prev, auth: 'No access token found'}));\n            navigate('/login');\n            return;\n        }\n\n        const fetchUserData = async () => {\n            try {\n                const response = await fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/user', {\n                    headers: {\n                        'Authorization': `Bearer ${token}`,\n                        'Accept': 'application/json',\n                    },\n                });\n                const data = await response.json();\n                setUser(data);\n                // Add this line to set the user_id in localStorage\n                localStorage.setItem('user_id', data.id.toString());\n                if (data.profile_image) {\n                    setImgSrc(`https://istaisprojekts-main-lixsd6.laravel.cloud/storage/${data.profile_image}`);\n                }\n            } catch (err) {\n                setErrors(prev => ({...prev, user: 'Failed to fetch user data'}));\n                console.error('Fetch error:', err);\n            }\n        };\n\n        const getDesignById = (designId) => {\n            return designs.find(d => d.id === designId) || designs[0];\n        };\n        const fetchAcceptedFriends = async () => {\n            try {\n                const response = await fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/friends/accepted', {\n                    headers: {\n                        'Authorization': `Bearer ${token}`,\n                        'Accept': 'application/json',\n                    },\n                });\n                const data = await response.json();\n                if (Array.isArray(data)) {\n                    setFriends(data);\n                    setFriendCount(data.length);\n                } else {\n                    console.error('Received non-array friends data:', data);\n                    setFriends([]);\n                    setFriendCount(0);\n                }\n            } catch (err) {\n                setErrors(prev => ({...prev, friends: 'Error fetching friends'}));\n                console.error('Error fetching friends:', err);\n            }\n        };\n\n        const fetchCounts = async () => {\n            try {\n                const [friendsRes, capsulesRes] = await Promise.all([\n                    fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/friends/count', {\n                        headers: {'Authorization': `Bearer ${token}`},\n                    }),\n                    fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/capsules/count', {\n                        headers: {'Authorization': `Bearer ${token}`},\n                    })\n                ]);\n\n                const [friendsData, capsulesData] = await Promise.all([\n                    friendsRes.json(),\n                    capsulesRes.json()\n                ]);\n\n                setFriendCount(friendsData.count);\n                setCapsuleCount(capsulesData.count);\n            } catch (err) {\n                setErrors(prev => ({...prev, counts: 'Error fetching counts'}));\n                console.error('Error fetching counts:', err);\n            }\n        };\n\n        const fetchCapsules = async () => {\n            try {\n                const token = localStorage.getItem('access_token');\n                const currentUserId = parseInt(localStorage.getItem('user_id'));\n\n                console.log('Debug - Token:', token ? 'Present' : 'Missing');\n                console.log('Debug - User ID:', currentUserId);\n\n                if (!token || isNaN(currentUserId)) {\n                    console.error('Invalid token or user ID');\n                    return;\n                }\n\n                const response = await fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/capsules', {\n                    headers: {\n                        'Authorization': `Bearer ${token}`,\n                        'Accept': 'application/json',\n                    },\n                });\n\n                if (!response.ok) {\n                    throw new Error('Failed to fetch capsules');\n                }\n\n                const data = await response.json();\n\n                console.log('Debug - Raw capsules data:', data.data);\n                console.log('Debug - Current user ID for comparison:', currentUserId);\n\n                const filteredCapsules = data.data.filter(capsule => {\n                    console.log('Debug - Processing capsule:', {\n                        id: capsule.id,\n                        is_owner: capsule.is_owner,\n                        user_id: capsule.user_id,\n                        matches_current_user: capsule.user_id === currentUserId\n                    });\n\n                    if (capsule.is_owner) {\n                        console.log('Debug - Including capsule (is owner):', capsule.id);\n                        return true;\n                    }\n\n                    const userRelation = capsule.capsule_users?.find(\n                        user => parseInt(user.user_id) === currentUserId\n                    );\n\n                    console.log('Debug - User relation for capsule', capsule.id, ':', userRelation);\n\n                    const shouldInclude = userRelation?.status === 'accepted';\n                    console.log('Debug - Including capsule (shared):', shouldInclude);\n                    return shouldInclude;\n                });\n\n                console.log('Debug - Filtered capsules:', filteredCapsules);\n\n                const capsulesWithDaysLeft = filteredCapsules.map(capsule => {\n                    const openingDate = new Date(capsule.time);\n                    const now = new Date();\n                    const timeDiff = openingDate.getTime() - now.getTime();\n                    const daysLeft = Math.ceil(timeDiff / (1000 * 3600 * 24));\n\n                    return {\n                        ...capsule,\n                        daysLeft: daysLeft > 0 ? daysLeft : 0\n                    };\n                });\n\n                setCapsules(capsulesWithDaysLeft);\n            } catch (err) {\n                console.error('Error fetching capsules:', err);\n                setErrors(prev => ({...prev, capsules: 'Failed to fetch capsules'}));\n            }\n        };\n\n\n        Promise.all([\n            fetchUserData(),\n            fetchAcceptedFriends(),\n            fetchCounts(),\n            fetchCapsules()\n        ]).catch(err => {\n            console.error('Error in fetch operations:', err);\n        });\n    }, [navigate]);\n\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (settingsRef.current && !settingsRef.current.contains(event.target)) {\n                setShowSettings(false);\n            }\n        };\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    const handlePrivacyChange = async (privacy) => {\n        const token = localStorage.getItem('access_token');\n        try {\n            const response = await fetch('https://istaisprojekts-main-lixsd6.laravel.cloud/api/user/privacy', {\n                method: 'PUT',\n                headers: {\n                    'Authorization': `Bearer ${token}`,\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({privacy: privacy.toLowerCase().replace(' ', '_')})\n            });\n            const data = await response.json();\n            setUser(prev => ({...prev, privacy: data.privacy}));\n            setShowSettings(false);\n        } catch (err) {\n            console.error('Error updating privacy:', err);\n        }\n    };\n\n    const handleSaveProfile = (updatedUser) => {\n        setUser(prevUser => ({\n            ...prevUser,\n            name: `${updatedUser.firstName} ${updatedUser.lastName}`.trim(),\n            email: updatedUser.email,\n            bio: updatedUser.bio\n        }));\n        if (updatedUser.image) {\n            setImgSrc(URL.createObjectURL(updatedUser.image));\n        }\n        setShowEditModal(false);\n    };\n\n    const handleCapsuleClick = (capsule) => {\n        console.log('Capsule clicked:', capsule);\n\n        if (capsule.daysLeft > 0) {\n            setSelectedLockedCapsule(capsule);\n            setShowTimerModal(true);\n        } else {\n            try {\n                // You don't need to parse the images here - let the AnimatedCapsule handle it\n                setSelectedCapsule(capsule);\n                setShowCapsule(true);\n                // The modal will now render <AnimatedCapsule capsule={selectedCapsule} />\n            } catch (error) {\n                console.error('Error handling capsule click:', error);\n            }\n        }\n    };\n    const handleCloseCapsule = () => {\n        setSelectedCapsule(null);\n        setShowCapsule(false);\n    };\n\n    const handleCloseTimerModal = () => {\n        setShowTimerModal(false);\n        setSelectedLockedCapsule(null);\n    };\n\n    const handleRemoveFriend = async (friendId) => {\n        const token = localStorage.getItem('access_token');\n        setIsRemoving(true);\n\n        try {\n            const response = await fetch(`https://istaisprojekts-main-lixsd6.laravel.cloud/api/friends/${friendId}`, {\n                method: 'DELETE',\n                headers: {\n                    'Authorization': `Bearer ${token}`,\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n            });\n\n            const data = await response.json();\n\n            if (!response.ok) {\n                throw new Error(data.message || 'Failed to remove friend');\n            }\n\n            setFriends(prevFriends => prevFriends.filter(friend => friend.id !== friendId));\n            setFriendCount(prevCount => prevCount - 1);\n\n        } catch (err) {\n            console.error('Error removing friend:', err);\n            setErrors(prev => ({\n                ...prev,\n                friendRemoval: err.message || 'Failed to remove friend'\n            }));\n        } finally {\n            setIsRemoving(false);\n        }\n    };\n\n    if (!user) {\n        return (\n            <div className=\"min-h-screen flex items-center justify-center\">\n                <div className=\"animate-pulse text-2xl text-gray-600\">Loading...</div>\n            </div>\n        );\n    }\n\n    return (\n        <div className=\"min-h-screen bg-background font-lexend text-text\">\n            <div className=\"max-w-7xl mx-auto px-4 py-8\">\n                <div className=\"bg-background rounded-2xl shadow-custom p-6 md:p-8\">\n\n                    <div className=\"flex flex-col md:flex-row items-center gap-6 md:gap-8\">\n                        <div className=\"relative group\">\n                            <div className=\"w-32 h-32 rounded-full overflow-hidden ring-4 ring-pink-300 shadow-lg\">\n                                <img\n                                    src={imgSrc}\n                                    alt=\"Profile\"\n                                    className=\"w-full h-full object-cover\"\n                                    onError={() => setImgSrc('/images/DefaultAvatar.jpg')}\n                                />\n                            </div>\n                            <button\n                                className=\"absolute bottom-0 right-0 bg-pink-500 p-2 rounded-full text-text hover:bg-pink-600 transition-colors\">\n                                <Camera size={20}/>\n                            </button>\n                        </div>\n\n                        <div className=\"flex-1 text-center md:text-left\">\n                            <h1 className=\"text-2xl font-bold text-text\">{user.name}</h1>\n                            <div className=\"mt-2 space-x-6\">\n                                <button className=\"hover:text-secondary transition-colors\">\n                                    {capsuleCount} Capsules\n                                </button>\n                                <button className=\"hover:text-secondary transition-colors\">\n                                    {friendCount} Friends\n                                </button>\n                            </div>\n                            <p className=\"mt-2\">\n                                Privacy: {user.privacy ? user.privacy.charAt(0).toUpperCase() + user.privacy.slice(1).replace('_', ' ') : 'Public'}\n                            </p>\n                        </div>\n\n                        <div className=\"flex flex-wrap gap-3 justify-center md:justify-end\">\n                            <button\n                                onClick={handleEditProfile}\n                                className=\"flex items-center gap-2 px-4 py-2 bg-pink-500 border-2 border-btnOutline rounded-xl hover:text-gray-400 transition-colors\"\n                            >\n                                <Edit2 size={18}/>\n                                Edit Profile\n                            </button>\n                            <div className=\"relative\" ref={settingsRef}>\n                                <button\n                                    onClick={() => setShowSettings(!showSettings)}\n                                    className=\"p-2\"\n                                >\n                                    <Settings size={24} color=\"white\" className=\"text-gray-600\"/>\n                                </button>\n                                {showSettings && (\n                                    <div\n                                        className=\"absolute right-0 mt-2 w-48 bg-background rounded-lg shadow-lg z-10 py-1\">\n                                        {['Private', 'Public', 'Friends Only'].map((option) => (\n                                            <button\n                                                key={option}\n                                                onClick={() => handlePrivacyChange(option)}\n                                                className=\"block w-full px-4 py-2 text-sm hover:bg-secondary text-left\"\n                                            >\n                                                {option}\n                                            </button>\n                                        ))}\n                                    </div>\n                                )}\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"mt-8 border-t border-secondary pt-8\">\n                        <div className=\"flex justify-between items-center mb-4\">\n                            <h2 className=\"text-xl font-semibold\">Friends ({friends.length})</h2>\n                            {friends.length > 0 && (\n                                <button\n                                    onClick={handleViewAllFriends}\n                                    className=\"text-pink-500 hover:text-pink-600 transition-colors\"\n                                >\n                                    View All\n                                </button>\n                            )}\n                        </div>\n                        {friends.length > 0 ? (\n                            <div className=\"flex gap-4 overflow-x-auto pb-4\">\n                                {friends.map((friend) => (\n                                    <div key={friend.id} className=\"flex-shrink-0 flex flex-col items-center m-1\">\n                                        <div className=\"w-24 h-24 rounded-full overflow-hidden ring-2 ring-pink-200\">\n                                            <img\n                                                src={friend.profile_image_url || '/images/DefaultAvatar.jpg'}\n                                                alt={friend.name}\n                                                className=\"w-24 h-24 object-cover\"\n                                                onError={(e) => {\n                                                    e.target.src = '/images/DefaultAvatar.jpg';\n                                                }}\n                                            />\n                                        </div>\n                                        <p className=\"mt-2 text-center text-sm truncate w-24\">{friend.name}</p>\n                                    </div>\n                                ))}\n                            </div>\n                        ) : (\n                            <div className=\"text-center py-8 text-gray-500\">\n                                No friends added yet\n                            </div>\n                        )}\n                    </div>\n\n\n                    <div className=\"mt-8 border-t border-secondary pt-8\">\n                        <h2 className=\"text-xl font-semibold mb-6\">Time Capsules</h2>\n                        <ProfileCapsulesGrid\n                            capsules={capsules}\n                            onCapsuleClick={handleCapsuleClick}\n                        />\n                    </div>\n\n                    <Modal\n                        show={showEditModal}\n                        onClose={handleCloseModal}\n                        onSave={handleSaveProfile}\n                        initialData={{\n                            firstName: user.name.split(' ')[0],\n                            lastName: user.name.split(' ')[1] || '',\n                            email: user.email,\n                            bio: user.bio || '',\n                        }}\n                    />\n\n                    {showCapsule && selectedCapsule && (\n                        <div\n                            className=\"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm\">\n                            <div className=\"relative w-full h-[90vh] max-w-7xl mx-auto\">\n                                <AnimatedCapsule capsuleData={selectedCapsule}/>\n\n                                <div className=\"absolute top-6 left-1/2 -translate-x-1/2 text-center z-10\">\n                                    <h2 className=\"text-2xl font-lexend font-bold text-text mb-2\">\n                                        {selectedCapsule.title}\n                                    </h2>\n                                </div>\n                                <button\n                                    onClick={handleCloseCapsule}\n                                    className=\"absolute top-6 right-6 p-2 rounded-full bg-secondary/30 hover:bg-secondary/50 transition-all border border-btnOutline z-10\"\n                                >\n                                    <X size={24} className=\"text-text\"/>\n                                </button>\n                            </div>\n                        </div>\n                    )}\n\n                    {showTimerModal && selectedLockedCapsule && (\n                        <TimerModal\n                            daysLeft={selectedLockedCapsule.daysLeft}\n                            openingDate={selectedLockedCapsule.time}\n                            onClose={handleCloseTimerModal}\n                            title={selectedLockedCapsule.title}\n                        />\n                    )}\n                    {showFriendsModal && (\n                        <div\n                            className=\"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm\">\n                            <div\n                                className=\"bg-background rounded-2xl shadow-custom p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n                                <div className=\"flex justify-between items-center mb-4\">\n                                    <h2 className=\"text-2xl font-bold\">All Friends</h2>\n                                    <button\n                                        onClick={handleCloseFriendsModal}\n                                        className=\"p-2 rounded-full bg-secondary/30 hover:bg-secondary/50 transition-all border border-btnOutline\"\n                                    >\n                                        <X size={24} className=\"text-text\"/>\n                                    </button>\n                                </div>\n                                <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4\">\n                                    {friends.map((friend) => (\n                                        <div key={friend.id} className=\"flex flex-col items-center relative group\">\n                                            <div\n                                                className=\"w-20 h-20 rounded-full overflow-hidden ring-2 ring-pink-200\">\n                                                <img\n                                                    src={friend.profile_image_url || '/images/DefaultAvatar.jpg'}\n                                                    alt={friend.name}\n                                                    className=\"w-full h-full object-cover\"\n                                                    onError={(e) => {\n                                                        e.target.src = '/images/DefaultAvatar.jpg';\n                                                    }}\n                                                />\n                                            </div>\n                                            <p className=\"mt-2 text-center text-sm truncate w-full\">{friend.name}</p>\n\n                                            <button\n                                                onClick={() => handleRemoveFriend(friend.id)}\n                                                disabled={isRemoving}\n                                                className=\"absolute -top-2 -right-2 p-1.5 rounded-full bg-red-500 text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 disabled:bg-gray-400\"\n                                                title=\"Remove Friend\"\n                                            >\n                                                <UserMinus size={16}/>\n                                            </button>\n                                        </div>\n                                    ))}\n                                </div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Profile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}